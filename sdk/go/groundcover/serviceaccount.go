// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package groundcover

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/pulumiverse/pulumi-groundcover/sdk/go/groundcover/internal"
)

// Manages a groundcover Service Account.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi/config"
//	"github.com/pulumiverse/pulumi-groundcover/sdk/go/groundcover"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			cfg := config.New(ctx, "")
//			groundcoverApiKey := cfg.Require("groundcoverApiKey")
//			groundcoverBackendId := cfg.Require("groundcoverBackendId")
//			// Example Policy (required for Service Account)
//			examplePolicy, err := groundcover.NewPolicy(ctx, "examplePolicy", &groundcover.PolicyArgs{
//				Role: pulumi.StringMap{
//					"read": pulumi.String("read"),
//				},
//				Description: pulumi.String("Example policy for service account resource example."),
//			})
//			if err != nil {
//				return err
//			}
//			// Example Service Account
//			exampleServiceaccount, err := groundcover.NewServiceaccount(ctx, "exampleServiceaccount", &groundcover.ServiceaccountArgs{
//				Email:       pulumi.String("terraform-sa@example.com"),
//				Description: pulumi.String("Service account created via Terraform example."),
//				PolicyUuids: pulumi.StringArray{
//					examplePolicy.Uuid,
//				},
//			})
//			if err != nil {
//				return err
//			}
//			ctx.Export("serviceaccountExampleId", exampleServiceaccount.ID())
//			ctx.Export("serviceaccountExampleEmail", exampleServiceaccount.Email)
//			return nil
//		})
//	}
//
// ```
type Serviceaccount struct {
	pulumi.CustomResourceState

	// An optional description for the service account.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// The email associated with the service account.
	Email pulumi.StringOutput `pulumi:"email"`
	// The name of the service account.
	Name pulumi.StringOutput `pulumi:"name"`
	// List of policy UUIDs to assign to the service account.
	PolicyUuids pulumi.StringArrayOutput `pulumi:"policyUuids"`
}

// NewServiceaccount registers a new resource with the given unique name, arguments, and options.
func NewServiceaccount(ctx *pulumi.Context,
	name string, args *ServiceaccountArgs, opts ...pulumi.ResourceOption) (*Serviceaccount, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Email == nil {
		return nil, errors.New("invalid value for required argument 'Email'")
	}
	if args.PolicyUuids == nil {
		return nil, errors.New("invalid value for required argument 'PolicyUuids'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource Serviceaccount
	err := ctx.RegisterResource("groundcover:index/serviceaccount:Serviceaccount", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetServiceaccount gets an existing Serviceaccount resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetServiceaccount(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ServiceaccountState, opts ...pulumi.ResourceOption) (*Serviceaccount, error) {
	var resource Serviceaccount
	err := ctx.ReadResource("groundcover:index/serviceaccount:Serviceaccount", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Serviceaccount resources.
type serviceaccountState struct {
	// An optional description for the service account.
	Description *string `pulumi:"description"`
	// The email associated with the service account.
	Email *string `pulumi:"email"`
	// The name of the service account.
	Name *string `pulumi:"name"`
	// List of policy UUIDs to assign to the service account.
	PolicyUuids []string `pulumi:"policyUuids"`
}

type ServiceaccountState struct {
	// An optional description for the service account.
	Description pulumi.StringPtrInput
	// The email associated with the service account.
	Email pulumi.StringPtrInput
	// The name of the service account.
	Name pulumi.StringPtrInput
	// List of policy UUIDs to assign to the service account.
	PolicyUuids pulumi.StringArrayInput
}

func (ServiceaccountState) ElementType() reflect.Type {
	return reflect.TypeOf((*serviceaccountState)(nil)).Elem()
}

type serviceaccountArgs struct {
	// An optional description for the service account.
	Description *string `pulumi:"description"`
	// The email associated with the service account.
	Email string `pulumi:"email"`
	// The name of the service account.
	Name *string `pulumi:"name"`
	// List of policy UUIDs to assign to the service account.
	PolicyUuids []string `pulumi:"policyUuids"`
}

// The set of arguments for constructing a Serviceaccount resource.
type ServiceaccountArgs struct {
	// An optional description for the service account.
	Description pulumi.StringPtrInput
	// The email associated with the service account.
	Email pulumi.StringInput
	// The name of the service account.
	Name pulumi.StringPtrInput
	// List of policy UUIDs to assign to the service account.
	PolicyUuids pulumi.StringArrayInput
}

func (ServiceaccountArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*serviceaccountArgs)(nil)).Elem()
}

type ServiceaccountInput interface {
	pulumi.Input

	ToServiceaccountOutput() ServiceaccountOutput
	ToServiceaccountOutputWithContext(ctx context.Context) ServiceaccountOutput
}

func (*Serviceaccount) ElementType() reflect.Type {
	return reflect.TypeOf((**Serviceaccount)(nil)).Elem()
}

func (i *Serviceaccount) ToServiceaccountOutput() ServiceaccountOutput {
	return i.ToServiceaccountOutputWithContext(context.Background())
}

func (i *Serviceaccount) ToServiceaccountOutputWithContext(ctx context.Context) ServiceaccountOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ServiceaccountOutput)
}

// ServiceaccountArrayInput is an input type that accepts ServiceaccountArray and ServiceaccountArrayOutput values.
// You can construct a concrete instance of `ServiceaccountArrayInput` via:
//
//	ServiceaccountArray{ ServiceaccountArgs{...} }
type ServiceaccountArrayInput interface {
	pulumi.Input

	ToServiceaccountArrayOutput() ServiceaccountArrayOutput
	ToServiceaccountArrayOutputWithContext(context.Context) ServiceaccountArrayOutput
}

type ServiceaccountArray []ServiceaccountInput

func (ServiceaccountArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Serviceaccount)(nil)).Elem()
}

func (i ServiceaccountArray) ToServiceaccountArrayOutput() ServiceaccountArrayOutput {
	return i.ToServiceaccountArrayOutputWithContext(context.Background())
}

func (i ServiceaccountArray) ToServiceaccountArrayOutputWithContext(ctx context.Context) ServiceaccountArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ServiceaccountArrayOutput)
}

// ServiceaccountMapInput is an input type that accepts ServiceaccountMap and ServiceaccountMapOutput values.
// You can construct a concrete instance of `ServiceaccountMapInput` via:
//
//	ServiceaccountMap{ "key": ServiceaccountArgs{...} }
type ServiceaccountMapInput interface {
	pulumi.Input

	ToServiceaccountMapOutput() ServiceaccountMapOutput
	ToServiceaccountMapOutputWithContext(context.Context) ServiceaccountMapOutput
}

type ServiceaccountMap map[string]ServiceaccountInput

func (ServiceaccountMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Serviceaccount)(nil)).Elem()
}

func (i ServiceaccountMap) ToServiceaccountMapOutput() ServiceaccountMapOutput {
	return i.ToServiceaccountMapOutputWithContext(context.Background())
}

func (i ServiceaccountMap) ToServiceaccountMapOutputWithContext(ctx context.Context) ServiceaccountMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ServiceaccountMapOutput)
}

type ServiceaccountOutput struct{ *pulumi.OutputState }

func (ServiceaccountOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Serviceaccount)(nil)).Elem()
}

func (o ServiceaccountOutput) ToServiceaccountOutput() ServiceaccountOutput {
	return o
}

func (o ServiceaccountOutput) ToServiceaccountOutputWithContext(ctx context.Context) ServiceaccountOutput {
	return o
}

// An optional description for the service account.
func (o ServiceaccountOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *Serviceaccount) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// The email associated with the service account.
func (o ServiceaccountOutput) Email() pulumi.StringOutput {
	return o.ApplyT(func(v *Serviceaccount) pulumi.StringOutput { return v.Email }).(pulumi.StringOutput)
}

// The name of the service account.
func (o ServiceaccountOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *Serviceaccount) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// List of policy UUIDs to assign to the service account.
func (o ServiceaccountOutput) PolicyUuids() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *Serviceaccount) pulumi.StringArrayOutput { return v.PolicyUuids }).(pulumi.StringArrayOutput)
}

type ServiceaccountArrayOutput struct{ *pulumi.OutputState }

func (ServiceaccountArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Serviceaccount)(nil)).Elem()
}

func (o ServiceaccountArrayOutput) ToServiceaccountArrayOutput() ServiceaccountArrayOutput {
	return o
}

func (o ServiceaccountArrayOutput) ToServiceaccountArrayOutputWithContext(ctx context.Context) ServiceaccountArrayOutput {
	return o
}

func (o ServiceaccountArrayOutput) Index(i pulumi.IntInput) ServiceaccountOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Serviceaccount {
		return vs[0].([]*Serviceaccount)[vs[1].(int)]
	}).(ServiceaccountOutput)
}

type ServiceaccountMapOutput struct{ *pulumi.OutputState }

func (ServiceaccountMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Serviceaccount)(nil)).Elem()
}

func (o ServiceaccountMapOutput) ToServiceaccountMapOutput() ServiceaccountMapOutput {
	return o
}

func (o ServiceaccountMapOutput) ToServiceaccountMapOutputWithContext(ctx context.Context) ServiceaccountMapOutput {
	return o
}

func (o ServiceaccountMapOutput) MapIndex(k pulumi.StringInput) ServiceaccountOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Serviceaccount {
		return vs[0].(map[string]*Serviceaccount)[vs[1].(string)]
	}).(ServiceaccountOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ServiceaccountInput)(nil)).Elem(), &Serviceaccount{})
	pulumi.RegisterInputType(reflect.TypeOf((*ServiceaccountArrayInput)(nil)).Elem(), ServiceaccountArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ServiceaccountMapInput)(nil)).Elem(), ServiceaccountMap{})
	pulumi.RegisterOutputType(ServiceaccountOutput{})
	pulumi.RegisterOutputType(ServiceaccountArrayOutput{})
	pulumi.RegisterOutputType(ServiceaccountMapOutput{})
}
